exports.id=659,exports.ids=[659],exports.modules={40659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>components_area});var a=s(30784),n=s(9885),o=s(17906),r=s(53275),l=s(77829),i=s(72781),d=s(79620),c=s(34751),m=s(52196),h=s(42050);let city=({cities:e,stateId:t,stateName:s,refetch:u})=>{let[x,y]=(0,n.useState)(""),[p,j]=(0,n.useState)(null),[g,w]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[C,k]=(0,n.useState)(null),N=e?.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())),handleCityClick=e=>{j(e)},[Z]=l.Z.useForm(),showEditModal=()=>{b(!0)},handleEdit=async e=>{try{let t=await o.Z.patch(`/dynamicform/cities/${C?._id}`,{name:e.name});console.log("Response:",t.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}},handleDelete=async e=>{r.Z.confirm({title:"Confirm Deletion",content:"Are you sure you want to delete this city?",okText:"Delete",okButtonProps:{style:{background:"red",borderColor:"red"}},onOk:async()=>{try{let t=await o.Z.delete(`/dynamicform/cities/${e?._id}`);console.log("Response:",t.data),u()}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}}})},addCity=async e=>{try{let s=await o.Z.post(`/dynamicform/add-city/${t}`,{name:e.name});N.push(s.data?.data),console.log("Response:",s.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"w-full md:w-1/3 flex flex-col px-3",children:[(0,a.jsxs)("table",{id:"cities",className:"table-auto bg-white rounded-lg overflow-hidden ",children:[a.jsx("thead",{children:a.jsx("tr",{children:a.jsx("th",{className:" px-4 py-2 items-left bg-[#F04D99]  text-white",children:"Cities"})})}),a.jsx("tbody",{className:"countries-tb overflow-y-scroll",children:N?.map((e,t)=>a.jsx("tr",{className:`${e?._id===p?._id?"bg-[#bd7ee5] text-white":"text-black"}`,children:a.jsxs("td",{onClick:()=>handleCityClick(e),className:"flex justify-between border-b px-4 py-2  cursor-pointer",children:[e?.name,a.jsxs("div",{className:"flex",children:[a.jsx("div",{onClick:()=>{k(e),showEditModal()},children:a.jsx(m.FontAwesomeIcon,{icon:h.Xcf,className:"text-gray-600 w-3 h-3 cursor-pointer mr-2"})}),a.jsx("div",{onClick:()=>handleDelete(e),children:a.jsx(m.FontAwesomeIcon,{icon:h.$aW,className:"text-gray-600 w-3 h-3 cursor-pointer"})})]})]})},t))})]}),a.jsx("div",{className:" my-2 items-center  rounded-lg text-white",children:(0,a.jsxs)("button",{onClick:()=>{w(!0)},className:" flex items-center rounded-lg",children:["Add City ",a.jsx(d.Z,{})]})})]}),a.jsx(r.Z,{title:`Add State into ${s}`,open:g,onCancel:()=>{w(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{Z.validateFields().then(async e=>{Z.resetFields(),console.log(e),await addCity(e),await u(),w(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:Z,layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"City Name",rules:[{required:!0,message:"Please input the city name!"}],children:a.jsx(i.Z,{})})})}),a.jsx(r.Z,{title:"Edit City",open:f,onCancel:()=>{b(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{Z.validateFields().then(async e=>{Z.resetFields(),await handleEdit(e),await u(),b(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:Z,initialValues:{name:C?.name},layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"City Name",rules:[{required:!0,message:"Please input the city name!"}],children:a.jsx(i.Z,{})})})})]})},state=({states:e,countryId:t,countryName:s,refetch:u})=>{let[x,y]=(0,n.useState)(null),[p,j]=(0,n.useState)(""),[g,w]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[C,k]=(0,n.useState)(null),handleStateClick=e=>{y(e)},N=e?.filter(e=>e.name.toLowerCase().includes(p.toLowerCase()));(0,n.useEffect)(()=>{x||N&&N.length>0&&y(N[0])},[N]);let[Z]=l.Z.useForm(),showEditModal=()=>{b(!0)},handleEdit=async e=>{try{let t=await o.Z.patch(`/dynamicform/states/${C?._id}`,{name:e.name});console.log("Response:",t.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}},handleDelete=async e=>{r.Z.confirm({title:"Confirm Deletion",content:"Are you sure you want to delete this state?",okText:"Delete",okButtonProps:{style:{background:"red",borderColor:"red"}},onOk:async()=>{try{let t=await o.Z.delete(`/dynamicform/states/${e?._id}`);console.log("Response:",t.data),u()}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}}})},addState=async e=>{try{let s=await o.Z.post(`/dynamicform/add-state/${t}`,{name:e.name});N.push(s.data?.data),console.log("Response:",s.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"w-full md:w-1/3 flex flex-col px-3",children:[(0,a.jsxs)("table",{id:"countries",className:"table-auto rounded-lg bg-white overflow-hidden",children:[a.jsx("thead",{children:a.jsx("tr",{children:a.jsx("th",{className:" px-4 py-2 bg-[#F04D99] text-white items-left",children:"States"})})}),a.jsx("tbody",{className:"countries-tb overflow-y-scroll",children:N?.map((e,t)=>a.jsx("tr",{className:`${e?._id===x?._id?"bg-[#bd7ee5] text-white":"text-black"} `,children:a.jsxs("td",{onClick:()=>handleStateClick(e),className:" flex justify-between px-4 py-2 border-b cursor-pointer",children:[e?.name,a.jsxs("div",{className:"flex",children:[a.jsx("div",{onClick:()=>{k(e),showEditModal()},children:a.jsx(m.FontAwesomeIcon,{icon:h.Xcf,className:"text-gray-600 w-3 h-3 cursor-pointer mr-2"})}),a.jsx("div",{onClick:()=>handleDelete(e),children:a.jsx(m.FontAwesomeIcon,{icon:h.$aW,className:"text-gray-600 w-3 h-3 cursor-pointer"})})]})]})},t))})]}),a.jsx("div",{className:" my-2 items-center  rounded-lg text-white",onClick:()=>{w(!0)},children:(0,a.jsxs)("button",{className:" flex items-center rounded-lg",children:["Add State ",a.jsx(d.Z,{})]})})]}),x&&a.jsx(city,{cities:x?.cities,stateId:x?._id,stateName:x?.name,refetch:u}),a.jsx(r.Z,{title:`Add State into ${s}`,open:g,onCancel:()=>{w(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{Z.validateFields().then(async e=>{Z.resetFields(),await addState(e),await u(),w(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:Z,layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"State Name",rules:[{required:!0,message:"Please input the state name!"}],children:a.jsx(i.Z,{})})})}),a.jsx(r.Z,{title:"Edit State",open:f,onCancel:()=>{b(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{Z.validateFields().then(async e=>{Z.resetFields(),await handleEdit(e),await u(),b(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:Z,initialValues:{name:C?.name},layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"State Name",rules:[{required:!0,message:"Please input the state name!"}],children:a.jsx(i.Z,{})})})})]})};s(75268);let country=({countries:e,refetch:t})=>{let[s,u]=(0,n.useState)(null),[x,y]=(0,n.useState)(""),[p,j]=(0,n.useState)(!1),[g,w]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[C]=l.Z.useForm(),handleCountryClick=e=>{u(e)},k=e?.filter(e=>e.name.toLowerCase().includes(x.toLowerCase()));(0,n.useEffect)(()=>{s||k&&k.length>0&&u(k[0])},[k]);let showEditModal=()=>{w(!0)},handleEdit=async e=>{try{let t=await o.Z.patch(`/dynamicform/country/${f?._id}`,{name:e.name});console.log("Response:",t.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}},handleDelete=async e=>{r.Z.confirm({title:"Confirm Deletion",content:"Are you sure you want to delete this country?",okText:"Delete",okButtonProps:{style:{background:"red",borderColor:"red"}},onOk:async()=>{try{let s=await o.Z.delete(`/dynamicform/country/${e?._id}`);console.log("Response:",s.data),t()}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}}})},addCountry=async e=>{try{let t=await o.Z.post("/dynamicform/add-country",{name:e.name});k.push(t.data?.data),console.log("Response:",t.data)}catch(e){c.Am.error(e?.response?.data?.message),console.error("Error:",e.response?e.response.data:e.message)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:" px-4 py-2 mt-2 items-center text-white hidden  lg:flex justify-end ",children:a.jsx("button",{className:"  flex items-center font-semibold justify-between rounded-lg",children:a.jsx("input",{id:"search-countries",type:"search",className:" appearance-none bg-[#F04D99] rounded w-[90%]   !text-white leading-tight",placeholder:"Search Countries..",value:x,onChange:e=>y(e.target.value)})})}),(0,a.jsxs)("div",{className:"container mx-auto flex flex-wrap py-6 overflow-hidden ",children:[(0,a.jsxs)("section",{className:"w-full md:w-1/3 flex flex-col px-3",children:[(0,a.jsxs)("table",{id:"countries",className:"table-auto bg-white rounded-lg overflow-hidden",children:[a.jsx("thead",{children:a.jsx("tr",{children:a.jsx("th",{className:" px-4 py-2 bg-[#F04D99] items-left text-white",children:"Countries"})})}),a.jsx("tbody",{className:"countries-tb overflow-y-scroll ",children:k?.map((e,t)=>a.jsx("tr",{className:` ${e?._id===s?._id?"bg-[#bd7ee5] text-white":"text-black"}`,children:a.jsxs("td",{onClick:()=>handleCountryClick(e),className:" flex justify-between px-4 py-2 border-b cursor-pointer",children:[e?.name,a.jsxs("div",{className:"flex",children:[a.jsx("div",{onClick:()=>{b(e),showEditModal()},children:a.jsx(m.FontAwesomeIcon,{icon:h.Xcf,className:" text-gray-600 w-3 h-3 cursor-pointer mr-2"})}),a.jsx("div",{onClick:()=>handleDelete(e),children:a.jsx(m.FontAwesomeIcon,{icon:h.$aW,className:"text-gray-600 w-3 h-3 cursor-pointer"})})]})]})},t))})]}),a.jsx("div",{className:" my-2 items-center  rounded-lg text-white",onClick:()=>{j(!0)},children:(0,a.jsxs)("button",{className:" flex items-center rounded-lg",children:["Add Country ",a.jsx(d.Z,{})]})})]}),s&&a.jsx(state,{states:s.states,countryId:s?._id,countryName:s?.name,refetch:t}),a.jsx(r.Z,{title:"Add Country",open:p,onCancel:()=>{j(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{C.validateFields().then(async e=>{C.resetFields(),await addCountry(e),await t(),j(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:C,layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please input the country name!"}],children:a.jsx(i.Z,{})})})}),a.jsx(r.Z,{title:"Edit Country",open:g,onCancel:()=>{w(!1)},okButtonProps:{style:{backgroundColor:"#334455"}},onOk:()=>{C.validateFields().then(async e=>{C.resetFields(),await handleEdit(e),await t(),w(!1)}).catch(e=>{console.log("Validate Failed:",e)})},children:a.jsx(l.Z,{form:C,initialValues:{name:f?.name},layout:"vertical",children:a.jsx(l.Z.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please input the country name!"}],children:a.jsx(i.Z,{})})})})]})]})},components_area=()=>{let[e,t]=(0,n.useState)(),[s,r]=(0,n.useState)(!1),fetchData=async()=>{let e=await o.Z.get("/dynamicform/country-state-city"),s=e.data?.countries;t(s)};return(0,n.useEffect)(()=>{fetchData()},[s]),(0,a.jsxs)("div",{className:"pt-[100px] pb-[50px] w-[80%] md:w-[75%] mx-auto flex-1 ",children:[a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("h1",{className:"bg-[#f04d99]  text-xl  text-white  border-2 border-[#f04d99] p-2 rounded-md",children:"Manage Location"})}),a.jsx(country,{countries:e,refetch:()=>{r(!s)}})]})}},75268:()=>{}};