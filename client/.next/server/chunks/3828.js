"use strict";exports.id=3828,exports.ids=[3828],exports.modules={3828:(e,r,s)=>{s.r(r),s.d(r,{default:()=>Users});var t=s(30784),l=s(9885),o=s(17906),a=s(34751),d=s(57114),c=s(25732),n=s(53275);function Users(){let[e,r]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[x,h]=(0,l.useState)(null),m=(0,d.useRouter)();(0,l.useEffect)(()=>{getUsers(),localStorage.getItem("token")||m.push("/login")},[]);let getUsers=async()=>{try{let e=await o.Z.get("/auth/allusers");r(e.data),i(!1)}catch(e){console.error("Error fetching users:",e),a.Am.error("Something went wrong!"),i(!1)}},showDeleteModal=e=>{h(e),n.Z.confirm({title:"Confirm Deletion",content:"Are you sure you want to delete this user?",okText:"Delete",okButtonProps:{style:{background:"red",borderColor:"red"}},onOk:()=>deleteUser(e)})},deleteUser=async e=>{try{await o.Z.delete(`/auth/${e}`),a.Am.success("User deleted successfully!"),getUsers()}catch(e){console.error("Error deleting user:",e),a.Am.error("Something went wrong!")}};return(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Z,{}),t.jsx("div",{className:"flex pt-[100px] ",children:(0,t.jsxs)("div",{className:"flex flex-col items-center w-full ",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"All Users"}),s?t.jsx("p",{className:"text-gray-500",children:"Loading..."}):(0,t.jsxs)("table",{className:"max-w-full lg:w-[800px] text-left mx-auto mt-[20px] bg-white border border-gray-300 rounded-md",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),t.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),t.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),t.jsx("th",{className:"py-2 px-4 border-b",children:"Action"})]})}),t.jsx("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[t.jsx("td",{className:"py-2 px-4 border-b",children:e.name}),t.jsx("td",{className:"py-2 px-4 border-b",children:e.email}),t.jsx("td",{className:"py-2 px-4 border-b",children:e.role}),t.jsx("td",{className:"py-2 px-4 border-b ",children:t.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>showDeleteModal(e._id),children:"Delete"})})]},e.id))})]})]})})]})}}};