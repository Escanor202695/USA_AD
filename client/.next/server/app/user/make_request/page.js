(()=>{var e={};e.id=8401,e.ids=[8401],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},85255:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d});var r=s(67096),i=s(16132),a=s(37284),n=s.n(a),o=s(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["user",{children:["make_request",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57705)),"/Users/mohsin/Desktop/programmer/project/upwork/sakib/USA_AD/client/app/user/make_request/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58489)),"/Users/mohsin/Desktop/programmer/project/upwork/sakib/USA_AD/client/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mohsin/Desktop/programmer/project/upwork/sakib/USA_AD/client/app/user/make_request/page.js"],m="/user/make_request/page",u={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/user/make_request/page",pathname:"/user/make_request",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69212:(e,t,s)=>{Promise.resolve().then(s.bind(s,19457))},19457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>page});var r=s(30784),i=s(34376),a=s(9885),n=s(54997),o=s(34751),l=s(57114);function Request({requestType:e}){let[t,s]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[u,g]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),q=(0,l.useRouter)(),handleRequest=async s=>{s.preventDefault();let isNotEmptyString=e=>"string"==typeof e&&""!==e.trim();if(console.log(w),"rotation"===e&&isNotEmptyString(t)&&isNotEmptyString(i)&&isNotEmptyString(c)&&isNotEmptyString(u)&&isNotEmptyString(p)&&isNotEmptyString(h)||"leave"===e&&isNotEmptyString(p)&&isNotEmptyString(h)||"oncall-switching"===e&&isNotEmptyString(y)&&isNotEmptyString(p)&&isNotEmptyString(h)||"general"===e&&isNotEmptyString(w)||"oncall"===e&&isNotEmptyString(v))try{let s=await n.Z.post("https://o-ras.com/api/request",{type:e,center:t,city:i,grade:c,desired_rotation:u,from:p,to:h,switching_resident_name:y,not_preferred_dates:v,message:w},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});o.Am.success(s.data.message),q.push("/user/account"),console.log(s.data)}catch(e){console.error("Signup failed:",e),o.Am.error(e?.response?.data?.message)}else o.Am.error("Please fill in all required fields.")};return r.jsx("div",{className:"w-[600px] max-w-full",children:r.jsx("div",{className:"flex flex-1 flex-col justify-center py-4",children:r.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,r.jsxs)("form",{className:"space-y-6",action:"#",method:"POST",children:["rotation"==e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Center"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"center",name:"center",type:"text",autoComplete:"center",required:!0,value:t,onChange:e=>s(e.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-gray-900",children:"City"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"city",name:"city",type:"text",autoComplete:"city",required:!0,value:i,onChange:e=>d(e.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Grade"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"grade",name:"grade",type:"text",autoComplete:"grade",onChange:e=>m(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"rotation",className:"block text-sm font-medium leading-6 text-gray-900",children:"Desired Rotation"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"rotation",name:"rotation",type:"text",autoComplete:"rotation",value:u,onChange:e=>g(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]}),("rotation"==e||"leave"==e||"oncall-switching"==e)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"rotation",className:"block text-sm font-medium leading-6 text-gray-900",children:"From Date:"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"from",name:"from",type:"date",autoComplete:"from",value:p,onChange:e=>x(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"rotation",className:"block text-sm font-medium leading-6 text-gray-900",children:"To Date"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"to",name:"to",type:"date",autoComplete:"to",value:h,onChange:e=>f(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]}),"oncall-switching"==e&&r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"switching_with",className:"block text-sm font-medium leading-6 text-gray-900",children:"Resident's Name (switching with)"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"switch_with",name:"switch_with",type:"text",autoComplete:"switch_with",value:y,onChange:e=>j(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})}),"oncall"==e&&(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"not_preferred",className:"block text-sm font-medium leading-6 text-gray-900",children:"Not Preferred Dates (use comma for multiple)"}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{id:"not_preferred",name:"not_preferred",type:"text",autoComplete:"not_preferred",value:v,onChange:e=>b(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium leading-6 text-gray-900",children:"Message"}),r.jsx("div",{className:"mt-2",children:r.jsx("textarea",{id:"message",name:"message",type:"text",autoComplete:"message",value:w,onChange:e=>N(e.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",onClick:handleRequest,className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Submit"})})]})})})})}var d=s(60029);let page=function(e){let[t,s]=(0,a.useState)(""),n=(0,l.useRouter)();return(0,a.useEffect)(()=>{let e=localStorage.getItem("token");e||n.push("/user/login")}),(0,a.useEffect)(()=>{console.log(t)},[t]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{role:"user"}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(i.Z,{page:"home"}),(0,r.jsxs)("div",{className:"flex-1 flex items-center flex-col h-[100vh] overflow-scroll p-[60px]",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Make New Request"}),r.jsx("p",{className:"text-gray-700 text-center text-sm mb-6",children:"Select a request type first and then fill up the form"}),r.jsx("div",{children:(0,r.jsxs)("select",{id:"location",name:"location",className:"mt-2 md:w-[385px] block max-w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",onChange:e=>s(e.target.value),children:[r.jsx("option",{disabled:!0,selected:!0,children:"Select Request Type"}),r.jsx("option",{value:"oncall-switching",children:"On-call Switching Request"}),r.jsx("option",{value:"oncall",children:"On-call Request"}),r.jsx("option",{value:"leave",children:"Leave Request"}),r.jsx("option",{value:"rotation",children:"Rotation In KFSH Request"}),r.jsx("option",{value:"general",children:"General Request"})]})}),""!=t&&r.jsx(Request,{requestType:t})]})]})]})}},57705:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var r=s(95153);let i=(0,r.createProxy)(String.raw`/Users/mohsin/Desktop/programmer/project/upwork/sakib/USA_AD/client/app/user/make_request/page.js`),{__esModule:a,$$typeof:n}=i,o=i.default,l=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[8963,6716,4376],()=>__webpack_exec__(85255));module.exports=s})();