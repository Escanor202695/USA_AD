(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{36001:function(e,t,s){Promise.resolve().then(s.bind(s,13275))},13275:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ManageListing}});var r=s(57437),n=s(2265),o=s(40613),l=s(60171),a=s(24033),i=s(86970),d=s(33071);function ManageListing(){let[e,t]=(0,n.useState)([]),[s,c]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null),m=(0,a.useRouter)();(0,n.useEffect)(()=>{getAdListings(),localStorage.getItem("token")||m.push("/login")},[]);let getAdListings=async()=>{try{let e=await o.Z.get("/dynamicform/formdata");t(e.data),c(!1)}catch(e){console.error("Error fetching adListings:",e),l.Am.error("Something went wrong!"),c(!1)}},showDeleteModal=e=>{h(e),d.Z.confirm({title:"Confirm Deletion",content:"Are you sure you want to delete this adListing?",okText:"Delete",okButtonProps:{style:{background:"red",borderColor:"red"}},onOk:()=>deleteAdListing(e)})},deleteAdListing=async e=>{try{await o.Z.delete("/auth/".concat(e)),l.Am.success("Ad Listing deleted successfully!"),getAdListings()}catch(e){console.error("Error deleting adListing:",e),l.Am.error("Something went wrong!")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"flex pt-[100px] ",children:(0,r.jsxs)("div",{className:"flex flex-col items-center w-full ",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4 text-white",children:"All Ad Listings"}),s?(0,r.jsx)("p",{className:"text-gray-500",children:"Loading..."}):(0,r.jsxs)("table",{className:"max-w-full lg:w-[800px] text-left mx-auto mt-[20px] bg-white border border-gray-300 rounded-md",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"Name"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"Email"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"Country"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"States"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"City"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b",children:"Action"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>{var t,s,n,o,l;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:null==e?void 0:null===(t=e.data["Contact Info"])||void 0===t?void 0:t.Name}),(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:null==e?void 0:null===(s=e.data["Contact Info"])||void 0===s?void 0:s.Email}),(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:null==e?void 0:null===(n=e.data["Contact Info"])||void 0===n?void 0:n.Country}),(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:null==e?void 0:null===(o=e.data["Contact Info"])||void 0===o?void 0:o.State}),(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:null==e?void 0:null===(l=e.data["Contact Info"])||void 0===l?void 0:l.City}),(0,r.jsx)("td",{className:"py-2 px-4 border-b",children:(0,r.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>showDeleteModal(e._id),children:"Delete"})})]},e._id)})})]})]})})]})}},86970:function(e,t,s){"use strict";s.d(t,{Z:function(){return navbar}});var r=s(57437),n=s(2265),o=s(54869),l=s(96689),a=s(24033),i=s(40536),profile=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})},key=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})},d=s(41810),c=s(60171),u=s(40613);let h=[{name:"Home",href:"/home"}];var navbar=()=>{let[e,t]=(0,n.useState)(!1),s=(0,a.useRouter)(),m=localStorage.getItem("token"),handleLogout=async()=>{await u.Z.get("/auth/local/logout"),localStorage.removeItem("token"),c.Am.success("LogOut Successful!"),s.push("/")},renderAuthButton=(e,t,s)=>(0,r.jsxs)("button",{className:"flex items-center text-white bg-[#F04D99] mr-2 px-4 py-2 my-2 rounded-lg",onClick:s,children:[t,e]});return(0,r.jsxs)("header",{className:"absolute inset-x-0 top-0 z-50 bg-black",children:[(0,r.jsxs)("nav",{className:"flex items-center justify-between p-3 lg:px-8","aria-label":"Global",children:[(0,r.jsx)("div",{className:"flex lg:flex-1 items-center",children:(0,r.jsxs)("a",{href:"#",className:"-m-1.5 p-1.5",children:[(0,r.jsx)("span",{className:"sr-only",children:"Your Company"}),(0,r.jsx)("img",{className:"h-16 w-auto",src:"/logo.png",alt:""})]})}),(0,r.jsx)("div",{className:"flex lg:hidden",children:(0,r.jsxs)("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-[#F04D99] bg-black",onClick:()=>t(!0),children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,r.jsx)(d.Z,{})]})}),(0,r.jsx)("div",{className:"hidden lg:flex lg:gap-x-12 items-center mr-16",children:h.map(e=>(0,r.jsx)("a",{href:e.href,className:"text-md font-semibold leading-6 text-white hover:text-[#F04D99]",children:e.name},e.name))}),(0,r.jsx)("div",{className:"hidden  lg:flex items-center",children:(0,r.jsx)("div",{className:" flex",children:m?(0,r.jsxs)(r.Fragment,{children:[renderAuthButton("Post New Ad",(0,r.jsx)(i.Z,{}),()=>s.push("/form")),renderAuthButton("Profile",(0,r.jsx)(profile,{}),()=>s.push("/profile")),renderAuthButton("Logout",(0,r.jsx)(key,{}),handleLogout)]}):(0,r.jsxs)(r.Fragment,{children:[renderAuthButton("Post New Ad",(0,r.jsx)(i.Z,{}),()=>s.push("/form")),renderAuthButton("Register",(0,r.jsx)(profile,{}),()=>s.push("/user/signup")),renderAuthButton("Login",(0,r.jsx)(key,{}),()=>s.push("/login"))]})})})]}),(0,r.jsxs)(o.V,{as:"div",className:"lg:hidden",open:e,onClose:()=>t(!1),children:[(0,r.jsx)("div",{className:"fixed inset-0 z-50"}),(0,r.jsxs)(o.V.Panel,{className:"fixed inset-y-0 right-0 z-50 w-1/2 overflow-y-auto bg-black px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("a",{href:"#",className:"-m-1.5 p-1.5",children:[(0,r.jsx)("span",{className:"sr-only",children:"Your Company"}),(0,r.jsx)("img",{className:"h-8 w-auto",src:"/path/to/logo.png",alt:""})]}),(0,r.jsxs)("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-gray-700",onClick:()=>t(!1),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,r.jsx)(l.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})]}),(0,r.jsx)("div",{className:"mt-6 flow-root",children:(0,r.jsx)("div",{className:"-my-6 divide-y divide-gray-500/10",children:(0,r.jsx)("div",{className:"space-y-2 py-6",children:h.map(e=>(0,r.jsx)("a",{href:e.href,className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-white hover:bg-[#F04D99]",children:e.name},e.name))})})}),(0,r.jsx)("div",{className:"lg:hidden flex-col",children:m?(0,r.jsxs)(r.Fragment,{children:[renderAuthButton("Post New Ad",(0,r.jsx)(i.Z,{}),()=>s.push("/form")),renderAuthButton("Profile",(0,r.jsx)(profile,{}),()=>s.push("/profile")),renderAuthButton("Logout",(0,r.jsx)(key,{}),handleLogout)]}):(0,r.jsxs)(r.Fragment,{children:[renderAuthButton("Post New Ad",(0,r.jsx)(i.Z,{}),()=>s.push("/")),renderAuthButton("Register",(0,r.jsx)(profile,{}),()=>s.push("/user/signup")),renderAuthButton("Login",(0,r.jsx)(key,{}),()=>s.push("/login"))]})})]})]})]})}},41810:function(e,t,s){"use strict";var r=s(57437);s(2265),t.Z=function(){return(0,r.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}},40536:function(e,t,s){"use strict";var r=s(57437);s(2265),t.Z=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})}},40613:function(e,t,s){"use strict";var r=s(92173);let n=r.Z.create({baseURL:"http://localhost:4000/api"});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),n.interceptors.response.use(e=>{if(302===e.status){let t=null==e?void 0:e.headers.location;window.location.href=t}return e},e=>{var t;throw(null===(t=e.response)||void 0===t?void 0:t.status)===401&&localStorage.removeItem("accessToken"),e}),t.Z=n}},function(e){e.O(0,[580,574,71,971,472,744],function(){return e(e.s=36001)}),_N_E=e.O()}]);