(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{18321:function(e,s,t){Promise.resolve().then(t.bind(t,41729))},86970:function(e,s,t){"use strict";t.d(s,{Z:function(){return navbar}});var n=t(57437),r=t(2265),l=t(54869),o=t(96689),a=t(24033),i=t(40536),profile=function(){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})},key=function(){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})},c=t(41810),d=t(60171),m=t(40613);let u=[{name:"Home",href:"/home"}];var navbar=()=>{let[e,s]=(0,r.useState)(!1),t=(0,a.useRouter)(),h=localStorage.getItem("token"),handleLogout=async()=>{await m.Z.get("/auth/local/logout"),localStorage.removeItem("token"),d.Am.success("LogOut Successful!"),t.push("/")},renderAuthButton=(e,s,t)=>(0,n.jsxs)("button",{className:"flex items-center text-white bg-[#F04D99] mr-2 px-4 py-2 my-2 rounded-lg",onClick:t,children:[s,e]});return(0,n.jsxs)("header",{className:"absolute inset-x-0 top-0 z-50 bg-black",children:[(0,n.jsxs)("nav",{className:"flex items-center justify-between p-3 lg:px-8","aria-label":"Global",children:[(0,n.jsx)("div",{className:"flex lg:flex-1 items-center",children:(0,n.jsxs)("a",{href:"#",className:"-m-1.5 p-1.5",children:[(0,n.jsx)("span",{className:"sr-only",children:"Your Company"}),(0,n.jsx)("img",{className:"h-16 w-auto",src:"/logo.png",alt:""})]})}),(0,n.jsx)("div",{className:"flex lg:hidden",children:(0,n.jsxs)("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-[#F04D99] bg-black",onClick:()=>s(!0),children:[(0,n.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,n.jsx)(c.Z,{})]})}),(0,n.jsx)("div",{className:"hidden lg:flex lg:gap-x-12 items-center mr-16",children:u.map(e=>(0,n.jsx)("a",{href:e.href,className:"text-md font-semibold leading-6 text-white hover:text-[#F04D99]",children:e.name},e.name))}),(0,n.jsx)("div",{className:"hidden  lg:flex items-center",children:(0,n.jsx)("div",{className:" flex",children:h?(0,n.jsxs)(n.Fragment,{children:[renderAuthButton("Post New Ad",(0,n.jsx)(i.Z,{}),()=>t.push("/form")),renderAuthButton("Profile",(0,n.jsx)(profile,{}),()=>t.push("/profile")),renderAuthButton("Logout",(0,n.jsx)(key,{}),handleLogout)]}):(0,n.jsxs)(n.Fragment,{children:[renderAuthButton("Post New Ad",(0,n.jsx)(i.Z,{}),()=>t.push("/form")),renderAuthButton("Register",(0,n.jsx)(profile,{}),()=>t.push("/user/signup")),renderAuthButton("Login",(0,n.jsx)(key,{}),()=>t.push("/login"))]})})})]}),(0,n.jsxs)(l.V,{as:"div",className:"lg:hidden",open:e,onClose:()=>s(!1),children:[(0,n.jsx)("div",{className:"fixed inset-0 z-50"}),(0,n.jsxs)(l.V.Panel,{className:"fixed inset-y-0 right-0 z-50 w-1/2 overflow-y-auto bg-black px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("a",{href:"#",className:"-m-1.5 p-1.5",children:[(0,n.jsx)("span",{className:"sr-only",children:"Your Company"}),(0,n.jsx)("img",{className:"h-8 w-auto",src:"/path/to/logo.png",alt:""})]}),(0,n.jsxs)("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-gray-700",onClick:()=>s(!1),children:[(0,n.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,n.jsx)(o.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})]}),(0,n.jsx)("div",{className:"mt-6 flow-root",children:(0,n.jsx)("div",{className:"-my-6 divide-y divide-gray-500/10",children:(0,n.jsx)("div",{className:"space-y-2 py-6",children:u.map(e=>(0,n.jsx)("a",{href:e.href,className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-white hover:bg-[#F04D99]",children:e.name},e.name))})})}),(0,n.jsx)("div",{className:"lg:hidden flex-col",children:h?(0,n.jsxs)(n.Fragment,{children:[renderAuthButton("Post New Ad",(0,n.jsx)(i.Z,{}),()=>t.push("/form")),renderAuthButton("Profile",(0,n.jsx)(profile,{}),()=>t.push("/profile")),renderAuthButton("Logout",(0,n.jsx)(key,{}),handleLogout)]}):(0,n.jsxs)(n.Fragment,{children:[renderAuthButton("Post New Ad",(0,n.jsx)(i.Z,{}),()=>t.push("/")),renderAuthButton("Register",(0,n.jsx)(profile,{}),()=>t.push("/user/signup")),renderAuthButton("Login",(0,n.jsx)(key,{}),()=>t.push("/login"))]})})]})]})]})}},41810:function(e,s,t){"use strict";var n=t(57437);t(2265),s.Z=function(){return(0,n.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}},40536:function(e,s,t){"use strict";var n=t(57437);t(2265),s.Z=function(){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})}},41729:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Home}});var n=t(57437),r=t(2265),l=t(40613),o=t(60171),a=t(24033),i=t(86970);function Home(){let[e,s]=(0,r.useState)(""),[t,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(null),u=(0,a.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("token");e&&u.push("/home")});let handleSubmit=async s=>{s.preventDefault(),console.log(e);try{let s=await l.Z.post("/auth/local/login",{email:e,password:t});console.log(s.data);let n=s.data.accessToken,r=s.data.user.email,a=s.data.user.name,i=s.data.user.role;localStorage.setItem("token",n),localStorage.setItem("useremail",r),localStorage.setItem("username",a),localStorage.setItem("role",i),o.Am.success("Login Successful!"),n&&u.push("/home"),m(null)}catch(e){console.error("Login failed:",e.response.data.error),o.Am.error("Email or password wrong!")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{}),(0,n.jsxs)("div",{className:"flex min-h-full bg-[#101827] flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[(0,n.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:(0,n.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white",children:"Sign in to your account"})}),(0,n.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,n.jsxs)("form",{className:"space-y-6",action:"#",method:"POST",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Email address"}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",onChange:e=>s(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-white",children:"Password"}),(0,n.jsx)("div",{className:"text-sm",children:(0,n.jsx)("a",{href:"/user/forgot-password",className:"font-semibold text-[#F04D99]  hover:text-[#bd7ee5]",children:"Forgot password?"})})]}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",onChange:e=>c(e.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5  shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",onClick:handleSubmit,className:"flex w-full justify-center rounded-md bg-[#F04D99]  px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-[#bd7ee5] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Log in"})})]}),d&&(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-red-600 ",children:d}),(0,n.jsxs)("p",{className:"mt-10 text-center text-sm text-white",children:["Not a member?"," ",(0,n.jsx)("a",{href:"/user/signup",className:"font-semibold leading-6 text-[#F04D99]   hover:text-indigo-500",children:"Sign Up"})]})]})]})]})}},40613:function(e,s,t){"use strict";var n=t(92173);let r=n.Z.create({baseURL:"http://localhost:4000/api"});r.interceptors.request.use(e=>{let s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},function(e){return Promise.reject(e)}),r.interceptors.response.use(e=>{if(302===e.status){let s=null==e?void 0:e.headers.location;window.location.href=s}return e},e=>{var s;throw(null===(s=e.response)||void 0===s?void 0:s.status)===401&&localStorage.removeItem("accessToken"),e}),s.Z=r}},function(e){e.O(0,[580,574,971,472,744],function(){return e(e.s=18321)}),_N_E=e.O()}]);