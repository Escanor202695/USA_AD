(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{50731:function(e,t,a){Promise.resolve().then(a.bind(a,15850))},2397:function(e,t,a){"use strict";var r=a(57437);a(2265);var s=a(92488);t.Z=e=>{let{imageSrc:t,cityName:a,status:n}=e;return(0,r.jsxs)("div",{className:"relative bg-black border border-pink-500 text-pink-500",children:[(0,r.jsx)(s.Z,{imageUrl:t,height:40}),(0,r.jsx)("div",{className:"absolute top-0 right-0 p-2",children:(0,r.jsx)("span",{className:"text-sm font-semibold text-white bg-pink-500 ",children:n})}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("span",{className:"text-sm",children:a})})]})}},92488:function(e,t,a){"use strict";var r=a(57437),s=a(2265),n=a(40613),i=a(40263).Buffer;t.Z=e=>{let{imageUrl:t}=e,[a,c]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let fetchImage=async()=>{try{let e=await n.Z.get("/dynamicform/download/".concat(t),{responseType:"arraybuffer"}),a=i.from(e.data,"binary").toString("base64"),r="data:image/png;base64,".concat(a);c(r)}catch(e){console.error("Error fetching image:",e)}};return t&&fetchImage(),()=>{}},[t]),(0,r.jsx)("img",{src:a,alt:"Uploaded",className:"w-full h-40 object-cover"})}},15850:function(e,t,a){"use strict";a.r(t);var r=a(57437),s=a(2265),n=a(2397),i=a(61396),c=a.n(i);t.default=()=>{let e,t;e=localStorage.getItem("useremail"),t=localStorage.getItem("username");let[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let fetchData=async()=>{try{let t=await fetch("".concat("http://147.182.228.32/api","/dynamicform/formdata/email/").concat(e)),a=await t.json();i(a),console.log(a)}catch(e){console.error("Error fetching data:",e)}finally{l(!1)}};fetchData()},[e]),(0,r.jsxs)("div",{className:"bg-[#101827] p-4 pt-[100px] min-h-[100vh] h-auto",children:[(0,r.jsx)("h1",{className:"text-white",children:t}),o&&(0,r.jsx)("p",{children:"Loading..."}),!o&&(null==a?void 0:a.length)===0&&(0,r.jsx)("p",{className:"text-white",children:"You have no listing to see."}),!o&&a&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:a.map((e,t)=>(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsx)(c(),{href:"/listingDetails/".concat(e._id),children:(0,r.jsx)(n.Z,{imageSrc:e.data["Ad info"]["Upload images"][0].url,cityName:e.data["Contact Info"].City,status:e.data["Ad info"]["Listing Category"]})})},t))})]})}},40613:function(e,t,a){"use strict";var r=a(92173);let s=r.Z.create({baseURL:"http://147.182.228.32/api"});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),s.interceptors.response.use(e=>{if(302===e.status){let t=null==e?void 0:e.headers.location;window.location.href=t}return e},e=>{var t;throw(null===(t=e.response)||void 0===t?void 0:t.status)===401&&localStorage.removeItem("accessToken"),e}),t.Z=s}},function(e){e.O(0,[580,396,971,472,744],function(){return e(e.s=50731)}),_N_E=e.O()}]);